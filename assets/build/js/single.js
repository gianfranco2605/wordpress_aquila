!function(){var o={647:function(){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!=i(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0===o)return("string"===e?String:Number)(t);o=o.call(t,e||"default");if("object"!=i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==i(t)?t:String(t)}(n.key),n)}}var a;a=jQuery,new(function(){function e(){var t;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.ajaxUrl=null!=(t=null==(t=siteConfig)?void 0:t.ajaxUrl)?t:"",this.ajaxNonce=null!=(t=null==(t=siteConfig)?void 0:t.ajax_nonce)?t:"",this.loadMoreBtn=a("#single-post-load-more-btn"),this.loadingTextEl=a("#single-loading-text"),this.isRequestProcessing=!1,this.init()}var t,o,n;return t=e,(o=[{key:"init",value:function(){var t=this;this.loadMoreBtn.length&&(this.totalPagesCount=this.loadMoreBtn.data("max-pages"),this.loadMoreBtn.on("click",function(){t.handleLoadMorePosts()}))}},{key:"handleLoadMorePosts",value:function(){var e=this,t=this.loadMoreBtn.data("page"),o=this.loadMoreBtn.data("single-post-id");if(void 0===t||this.isRequestProcessing)return null;var n=parseInt(t)+1;this.toggleLoading(!0),a.ajax({url:this.ajaxUrl,type:"post",data:{page:t,single_post_id:o,action:"single_load_more",ajax_nonce:this.ajaxNonce},success:function(t){e.loadMoreBtn.data("page",n),a("#single-post-load-more-content").append(t),e.removeLoadMoreIfOnLastPage(n),e.toggleLoading(!1)},error:function(t){console.log(t),e.toggleLoading(!1)}})}},{key:"removeLoadMoreIfOnLastPage",value:function(t){t+1>this.totalPagesCount&&this.loadMoreBtn.remove()}},{key:"toggleLoading",value:function(t){(this.isRequestProcessing=t)?(this.loadingTextEl.addClass("block"),this.loadingTextEl.removeClass("hidden")):(this.loadingTextEl.addClass("hidden"),this.loadingTextEl.removeClass("block"))}}])&&r(t.prototype,o),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())}},n={};function i(t){var e=n[t];return void 0!==e||(e=n[t]={exports:{}},o[t](e,e.exports,i)),e.exports}i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};!function(){"use strict";i(647)}()}();